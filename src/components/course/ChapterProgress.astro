---
import { t } from '../../i18n/translations';

interface Props {
  totalChapters: number;
  courseSlug: string;
  locale: string;
}

const { totalChapters, courseSlug, locale } = Astro.props;
---

<div
  class="chapter-progress"
  data-course={courseSlug}
  data-total={totalChapters}
>
  <div class="progress-header">
    <span class="progress-label">{t(locale, 'progress')}</span>
    <span class="progress-text">0 / {totalChapters}</span>
  </div>
  <div class="progress-track">
    <div
      class="progress-bar"
      role="progressbar"
      aria-valuenow={0}
      aria-valuemin={0}
      aria-valuemax={totalChapters}
      aria-label={t(locale, 'progress')}
      style="width: 0%"
    />
  </div>
</div>

<style>
  .chapter-progress {
    margin-bottom: 1.5rem;
  }

  .progress-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-family: var(--font-sans);
    font-size: 0.75rem;
    color: var(--color-text-muted);
    margin-bottom: 0.5rem;
  }

  .progress-track {
    width: 100%;
    height: 0.25rem;
    background-color: var(--color-surface);
    border-radius: 9999px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    background-color: var(--color-text);
    border-radius: 9999px;
    transition: width 0.3s ease;
  }
</style>
